diff -ur freetype-2.7.1.orig/src/truetype/ttgload.c freetype-2.7.1/src/truetype/ttgload.c
--- freetype-2.7.1.orig/src/truetype/ttgload.c	2016-12-26 13:25:23.000000000 +0100
+++ freetype-2.7.1/src/truetype/ttgload.c	2017-04-18 17:54:07.931827275 +0200
@@ -1709,7 +1709,7 @@
 
       /* check whether we already have a composite glyph with this index */
       if ( FT_List_Find( &loader->composites,
-                         (void*)(unsigned long)glyph_index ) )
+                         (void*)(uintptr_t)glyph_index ) )
       {
         FT_TRACE1(( "TT_Load_Composite_Glyph:"
                     " infinite recursion detected\n" ));
@@ -1718,13 +1718,13 @@
       }
 
       else if ( node )
-        node->data = (void*)(unsigned long)glyph_index;
+        node->data = (void*)(uintptr_t)glyph_index;
 
       else
       {
         if ( FT_NEW( node ) )
           goto Exit;
-        node->data = (void*)(unsigned long)glyph_index;
+        node->data = (void*)(uintptr_t)glyph_index;
         FT_List_Add( &loader->composites, node );
       }
 
